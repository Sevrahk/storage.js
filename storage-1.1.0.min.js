/* storage.js v1.1.0 | Copyright (c) 2014 https://github.com/Sevrahk/storage.js | MIT license */
(function(){"use strict";function e(e){function n(e){if(typeof e!=="string"&&typeof e!=="number"||e.length===0)throw new TypeError("Key must be string or numeric.");return true}var t=e==="session"?window.sessionStorage:window.localStorage;this.isSupported=function(){return typeof t!=="undefined"};this.set=function(e,r){n(e);if(r===undefined)return;if(typeof r==="function")return;else if(typeof r==="object")t[e]=JSON.stringify(r);else t[e]=r};this.get=function(e){n(e);if(t[e]===undefined)return null;try{return JSON.parse(t[e])}catch(r){return t[e]}return t[e]};this.exists=function(e){n(e);return t[e]!==undefined};this.clear=function(){if(arguments.length===0)t.clear();else{for(var e in arguments)t.removeItem(arguments[e])}};this.rename=function(e,r,i){i=i!==undefined?i:false;if(e===r)return;n(r);if(i===false&&this.exists(r))throw new TypeError("The new key name already exists in the storage. If you want to replace it set overwrite parameter to true.");if(this.exists(e)){t[r]=t[e];t.removeItem(e)}};this.copyToOtherStorage=function(){var e=t===window.localStorage?window.sessionStorage:window.localStorage;if(arguments.length===0){for(var n in t)e[n]=t[n]}else{for(var r in arguments){if(this.exists(arguments[r]))e[arguments[r]]=t[arguments[r]]}}};this.getKeys=function(){var e=[];for(var n in t)e.push(n);return e}}window.storage=new e;window.storage.local=new e;window.storage.session=new e("session");return})();
