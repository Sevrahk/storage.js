/* storage.js v1.3.0 | Copyright (c) 2016 https://github.com/Sevrahk/storage.js | MIT license */
!function(){"use strict";function e(e){switch(this._storageArea=null,e){case"session":this._storageArea=window.sessionStorage;break;case"cookie":this._cookieValidityTime=31536e3;break;default:this._storageArea=window.localStorage}}function t(t){e.call(this,t)}function o(){e.call(this,"cookie")}e.prototype.checkKey=function(e){if("string"!=typeof e&&"number"!=typeof e||0===e.length)throw new TypeError("Key must be string or numeric.");return!0},e.prototype.rename=function(e,t,o){if(o=void 0!==o?o:!1,e!==t){if(this.checkKey(t),o===!1&&this.exists(t))throw new TypeError("The new key name already exists in the storage. If you want to replace it set overwrite parameter to true.");this.exists(e)&&(this.set(t,this.get(e)),this.remove(e))}},t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.set=function(e,t){this.checkKey(e),void 0!==t&&"function"!=typeof t&&("object"==typeof t&&(t=JSON.stringify(t)),this._storageArea[e]=t)},t.prototype.get=function(e){if(this.checkKey(e),void 0!==this._storageArea[e]){try{return JSON.parse(this._storageArea[e])}catch(t){return this._storageArea[e]}return this._storageArea[e]}},t.prototype.exists=function(e){return this.checkKey(e),void 0!==this._storageArea[e]},t.prototype.remove=function(e){if(e instanceof Array)for(var t in e)this._storageArea.removeItem(e[t]);else this._storageArea.removeItem(e)},t.prototype.clear=function(){this._storageArea.clear()},t.prototype.getKeys=function(){var e=[];for(var t in this._storageArea)e.push(t);return e},t.prototype.copyToOtherStorage=function(){var e=this._storageArea===window.localStorage?window.sessionStorage:window.localStorage;if("undefined"==typeof e)return void console.error("The other storage is not available.");if(0===arguments.length)for(var t in this._storageArea)e[t]=this._storageArea[t];else for(var o in arguments)this.exists(arguments[o])&&(e[arguments[o]]=this._storageArea[arguments[o]])},o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.prototype.set=function(e,t,o){if(o="undefined"==typeof o?!0:o,this.checkKey(e),void 0!==t&&"function"!=typeof t){"object"==typeof t&&(t=JSON.stringify(t));var r,i=o?this._cookieValidityTime:-1;if(window.ActiveXObject){var n=new Date((new Date).getTime()+1e3*i);r="; expires="+n.toGMTString()}else r="; max-age="+i;document.cookie=e+"="+encodeURIComponent(t)+r}},o.prototype.get=function(e){this.checkKey(e),e+="=";for(var t=-1,o=document.cookie.split(";"),r=0,i=o.length;i>r;r++){var n=o[r];if(0===n.trim().indexOf(e)){t=r;break}}if(-1!==t){var s=decodeURIComponent(o[t].trim().substring(e.length));try{return JSON.parse(s)}catch(a){return s}return s}},o.prototype.exists=function(e){return void 0!==this.get(e)},o.prototype.remove=function(e){if(e instanceof Array)for(var t in e)""!==e[t]&&this.set(e[t],"",!1);else this.set(e,"",!1)},o.prototype.clear=function(){this.remove(this.getKeys())},o.prototype.getKeys=function(){for(var e=document.cookie.split(";"),t=[],o=0,r=e.length;r>o;o++){var i=e[o];i=i.substring(0,i.indexOf("=")),t.push(i.trim())}return t},window.storage=Object,"undefined"!=typeof window.localStorage&&(window.storage=new t("local")),"undefined"!=typeof document.cookie&&(window.storage.cookie=new o),"undefined"!=typeof window.sessionStorage&&(window.storage.session=new t("session"))}();